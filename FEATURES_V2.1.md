# 🎉 新功能說明 v2.1

## 三個超實用新功能！

---

## 1️⃣ 💾 儲存空間監控

### ✅ 可以看到什麼：
- **已使用空間**：例如 125 MB / 500 MB
- **使用百分比**：視覺化進度條
- **剩餘空間**：還剩多少可用
- **照片數量**：總共上傳了幾張
- **容量警告**：超過 80% 會提醒

### 🎨 視覺效果：
```
✅ 綠色（< 60%）：容量充足
⚠️ 黃色（60-80%）：注意容量
🚨 紅色（> 80%）：快要滿了
```

### 📍 如何查看：
```
1. 點擊底部「⚙️ 設定」
2. 預設就在「💾 系統管理」分頁
3. 第一個區塊就是儲存空間狀態
```

### 💡 容量管理建議：
- **Supabase 免費方案**：500 MB
- **平均每張照片**：約 1-2 MB
- **預估可存**：約 250-500 張照片
- **超過怎麼辦？**
  - 刪除不需要的舊作品
  - 升級 Supabase Pro 方案（$25/月，100GB）
  - 壓縮照片後再上傳

---

## 2️⃣ 📦 資料備份功能

### ✅ 可以備份什麼：
- **所有作品**：照片網址、資訊、標籤
- **活動中心**：所有中心列表
- **長輩資料**：姓名、所屬中心、備註
- **教學記錄**：完整的教學歷史
- **篩選條件**：自訂的選項

### 📥 備份檔案格式：
```json
{
  "version": "2.0",
  "timestamp": "2024-02-24T12:00:00.000Z",
  "data": {
    "works": [...],
    "locations": [...],
    "seniors": [...],
    "teaching_records": [...],
    "filter_options": [...]
  },
  "stats": {
    "works_count": 50,
    "locations_count": 6,
    "seniors_count": 30,
    "records_count": 120
  }
}
```

### 📍 如何備份：
```
1. 點擊「⚙️ 設定」→「💾 系統管理」
2. 找到「資料備份」區塊
3. 點擊「📥 立即備份資料」
4. 瀏覽器會自動下載 JSON 檔案
5. 檔名：教學管理系統備份_2024-02-24.json
```

### 💾 備份檔案用途：
- **防止資料遺失**：誤刪、系統問題
- **遷移資料**：換到新系統
- **查看歷史資料**：用文字編輯器打開
- **資料分析**：匯入 Excel 做統計

### 📅 備份建議：
```
✅ 每週備份一次
✅ 重要更新後立刻備份
✅ 大量刪除前先備份
✅ 保存多個版本（至少 3 個）
✅ 存在雲端硬碟（Google Drive、Dropbox）
```

### 🔄 如何還原備份：
```
目前版本還不支援自動還原
但你可以：
1. 打開 JSON 檔案
2. 複製資料
3. 到 Supabase 後台手動匯入

未來版本會加入「一鍵還原」功能
```

---

## 3️⃣ 🎨 自訂 Logo

### ✅ 可以做什麼：
- **上傳自己的 Logo**：取代預設的 🎨 圖示
- **即時預覽**：上傳後立刻顯示在導覽列
- **隨時更換**：想換就換
- **一鍵移除**：恢復預設 Logo

### 📍 如何上傳 Logo：
```
1. 點擊「⚙️ 設定」→「💾 系統管理」
2. 找到「🎨 自訂 Logo」區塊
3. 點擊「選擇圖片」
4. 選擇你的 Logo 檔案
5. 上傳成功後頁面會自動重新整理
6. 看到導覽列左上角的 Logo 了嗎？
```

### 📏 Logo 建議規格：
```
✅ 尺寸：100x100 像素（正方形最佳）
✅ 格式：PNG（支援透明背景）、JPG、SVG
✅ 檔案大小：< 500 KB
✅ 設計建議：
   - 簡潔明瞭
   - 顏色不要太多
   - 在深淺背景都清楚
   - 避免太細的線條
```

### 🎨 Logo 設計範例：
```
✅ 好的 Logo：
   - 簡單的圖形 + 文字
   - 使用品牌色
   - 高對比度
   - 圓形或方形

❌ 不建議的 Logo：
   - 太複雜的圖案
   - 解析度太低
   - 太多細節
   - 長方形（會變形）
```

### 🔧 Logo 顯示位置：
- ✅ 導覽列左上角（主要顯示）
- ✅ PWA 安裝後的 App 圖示旁
- ✅ 深色/淺色模式都會顯示

### 🗑️ 如何移除自訂 Logo：
```
1. 設定 → 系統管理 → 自訂 Logo
2. 點擊「移除」按鈕
3. 確認刪除
4. 恢復預設的 🎨 圖示
```

---

## 📱 使用情境範例

### 情境 1：容量快滿了
```
問題：上傳照片時發現空間不足

解決方案：
1. 打開設定 → 系統管理
2. 查看容量使用情況（假設 85% 了）
3. 看到紅色警告提示
4. 回到作品庫
5. 找出不需要的舊作品
6. 點擊刪除（釋放空間）
7. 重新檢查，容量降到 70% ✅
```

### 情境 2：定期備份流程
```
每週日晚上：
1. 打開 App
2. 設定 → 系統管理
3. 點擊「立即備份資料」
4. 下載 JSON 檔案
5. 上傳到 Google Drive
6. 重命名：教學記錄_2024-02-24_週日.json
7. 刪除超過 1 個月的舊備份
8. 完成！安心睡覺 😴
```

### 情境 3：加上機構 Logo
```
假設你的機構叫「愛心長照中心」：

1. 請美工同事設計 Logo
2. 取得 PNG 檔案（透明背景）
3. 打開教學管理系統
4. 設定 → 系統管理 → 自訂 Logo
5. 上傳檔案
6. 重新整理後看到了！
7. 以後每次打開都看到機構 Logo
8. 更有專業感 ✨
```

### 情境 4：資料遺失緊急處理
```
災難：不小心刪除了 10 個作品！

還好有備份：
1. 找到最近的備份檔案
2. 用記事本打開 JSON
3. 搜尋被刪除的作品名稱
4. 複製 image_url（照片網址）
5. 重新上傳作品
6. 貼上原本的照片網址
7. 補回資料 ✅

（未來會有一鍵還原功能）
```

---

## 🎯 實用技巧

### 技巧 1：容量警報線設定
```
60% 以下：綠色，放心用
60-80%：黃色，開始注意
80% 以上：紅色，立刻清理

建議在黃色階段就開始管理
不要等到紅色才處理
```

### 技巧 2：備份命名規則
```
建議格式：
教學記錄_YYYY-MM-DD_說明.json

範例：
✅ 教學記錄_2024-02-24_週日例行備份.json
✅ 教學記錄_2024-02-20_大量新增前.json
✅ 教學記錄_2024-02-15_六個中心完成.json

這樣之後找備份會很清楚
```

### 技巧 3：Logo 深淺適配
```
如果你的 Logo 在深色模式看不清：

方案 1：使用有透明背景的 PNG
方案 2：Logo 周圍加淺色邊框
方案 3：設計兩個版本（淺色/深色）

目前系統只支援一個 Logo
建議設計成在兩種模式都清楚的
```

### 技巧 4：雲端多重備份
```
別只存在一個地方！

建議備份位置：
1. Google Drive
2. Dropbox
3. 本機電腦
4. USB 隨身碟

至少要有 2 個不同的位置
```

---

## 🔧 技術細節

### 容量計算方式：
```javascript
// 系統會掃描 Storage 中的所有照片
// 計算總大小（bytes）
// 轉換成 MB 顯示
// 與 500MB 上限比較

免費方案限制：
- 儲存空間：500 MB
- 檔案數量：無限制
- 流量：1 GB/月
```

### 備份檔案安全：
```
✅ 所有資料都在 JSON 中
✅ 照片只存網址（不是實體檔案）
✅ 不包含敏感資訊
✅ 可以用任何文字編輯器打開

⚠️ 注意：
- JSON 檔案包含所有資料
- 不要分享給陌生人
- 保管好備份檔案
```

### Logo 儲存位置：
```
上傳到：Supabase Storage
路徑：images/system/logo.png
儲存方式：覆蓋舊檔案
引用方式：存在 localStorage
```

---

## ❓ 常見問題

### Q1: 容量顯示不準確？
```
A: 可能的原因：
1. 剛上傳/刪除照片（需要幾分鐘更新）
2. 重新整理頁面試試
3. 到設定頁面重新載入

如果還是不對，檢查 Supabase 後台
```

### Q2: 備份檔案很大嗎？
```
A: 取決於資料量：
- 50 個作品 + 100 筆記錄：約 50-100 KB
- 200 個作品 + 500 筆記錄：約 200-500 KB

JSON 是純文字，很小
不用擔心佔空間
```

### Q3: Logo 上傳失敗？
```
A: 檢查以下項目：
✅ 檔案格式正確（PNG/JPG/SVG）
✅ 檔案大小 < 10 MB
✅ 網路連線正常
✅ Supabase Storage bucket 設定正確

如果還是失敗，試試壓縮圖片
```

### Q4: 備份可以自動還原嗎？
```
A: 目前版本（v2.1）還不支援
但這是下一個版本的重點功能！

預計 v3.0 會加入：
- 一鍵還原備份
- 選擇性還原（只還原作品）
- 備份版本管理
```

### Q5: 可以改變容量上限嗎？
```
A: 免費方案固定 500 MB
如果需要更多空間：

方案 1：升級 Supabase Pro
- $25/月
- 100 GB 儲存空間
- 更高效能

方案 2：定期清理舊作品
- 匯出重要資料
- 刪除不需要的
- 保持在 500 MB 內
```

### Q6: Logo 可以是 GIF 動圖嗎？
```
A: 技術上可以上傳
但不建議：
- 檔案太大
- 影響載入速度
- 可能不支援動畫
- 看起來不專業

建議使用靜態圖片（PNG/SVG）
```

---

## 🎉 總結

### 這三個功能的價值：

#### 💾 容量監控
→ **避免空間不足的窘境**
→ 提前規劃，不會突然無法上傳

#### 📦 資料備份
→ **資料安全有保障**
→ 不怕誤刪、系統問題

#### 🎨 自訂 Logo
→ **提升專業形象**
→ 機構品牌識別

---

## 🚀 立即開始使用

### 建議流程：
```
1. 先查看容量（了解現況）
2. 立刻備份一次（建立基準）
3. 上傳機構 Logo（專業形象）
4. 設定每週備份提醒
5. 容量超過 60% 時開始管理
```

### 需要更多功能？
```
未來規劃：
- [ ] 自動備份（每週自動）
- [ ] 一鍵還原
- [ ] 容量到達提醒
- [ ] 批次匯出照片
- [ ] 容量使用趨勢圖

有其他需求隨時告訴我！
```

---

**享受這些新功能吧！** 🎊

有任何問題都可以問我！😊
